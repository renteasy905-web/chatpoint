<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Chat Point | Food Shops</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icon-192.png" type="image/png" />
  <meta name="theme-color" content="#FFD700" /> <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" /> 
  <style>
    /* =========================
¬† ¬† ¬† ¬†Theme: Yellow / Red / White
¬† ¬† ¬† ¬†========================= */
    :root{
      --bg: #fffaf2; 
      --card: #ffffff; 
      --text: #111111;  
      --muted: #6b6b6b;
      --primary: #75d133d5; /* Bright Yellow for main actions/header */
      --accent: #036487; /* Vibrant Red for offers, ratings, urgency */
      --shadow: rgba(17,17,17,0.06);
      --glass: rgba(255,255,255,0.7);
      --radius: 16px;
      --glass-border: rgba(255,165,0,0.08);
    }

    /* Base Styles */
    *{box-sizing:border-box;margin:0;padding:0;font-family:"Outfit",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
    html,body{height:100%}
    body{
      background: linear-gradient(180deg,var(--bg), #fff6da 120px);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      overflow-x:hidden;
    }

    /* ===== Floating SVGs ===== */
    .floating-icons{ position:fixed;left:0;top:0;right:0;bottom:0;pointer-events:none;z-index:0;overflow:hidden; }
    .float-svg{
      position:absolute; opacity:0.1; 
      filter:drop-shadow(0 6px 18px rgba(0,0,0,0.06));
      transform-origin:center;
      transition:transform 1s ease;
    }
    .float-1{left:6%;top:12%;width:88px}
    .float-2{right:6%;bottom:8%;width:110px;opacity:0.12}
    .float-3{left:50%;top:40%;width:120px;transform:translateX(-50%) rotate(-8deg)}
    .float-4{left:8%;bottom:20%;width:72px;opacity:0.08}
    @keyframes gentleFloat {
      0%{transform:translateY(0px) rotate(0deg)}
      50%{transform:translateY(-18px) rotate(6deg)}
      100%{transform:translateY(0px) rotate(0deg)}
    }
    .float-svg { animation: gentleFloat 9s ease-in-out infinite; }

    /* ===== Header ===== */
    header{
      position:sticky; top:0; z-index:120; display:flex;align-items:center;gap:12px;
      padding:14px 18px;background:var(--primary); 
      border-bottom:1px solid rgba(0,0,0,0.1);
      box-shadow: 0 6px 18px var(--shadow);
    }
    .nav-btn{width:46px;height:46px;border-radius:12px;display:inline-grid;place-items:center;background:rgba(255,255,255,0.6);border:1px solid rgba(0,0,0,0.04);cursor:pointer}
    .nav-btn i{font-size:18px;color:#111}
    .brand{font-weight:800;font-size:20px;color:#111;display:flex;gap:6px;align-items:center}
    .brand span{color:var(--accent);font-weight:900} 
    .header-right{margin-left:auto;display:flex;gap:10px;align-items:center}
    .cart-btn{background:var(--accent);color:white;padding:10px 14px;border-radius:12px;font-weight:700;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(255,59,48,0.3)} 

    /* ===== Sidebar (drawer) ===== */
    .sidebar{
      position:fixed;left:-100%;top:0;width:320px;height:100%;z-index:220;
      background:linear-gradient(180deg,#ffffff, #fff9e6); padding:18px; box-shadow: 6px 20px 60px rgba(0,0,0,0.12);
      transition:left .32s ease; border-right:1px solid var(--glass-border);
    }
    .sidebar.active{left:0}
    .profile-section{background:linear-gradient(180deg,#fff,#fff9db);border-radius:12px;padding:14px;border:1px solid var(--glass-border);display:flex;gap:12px;align-items:center}
    .profile-section .avatar{width:56px;height:56px;border-radius:12px;background:linear-gradient(90deg,#fff7c2,#fff2a8);display:flex;align-items:center;justify-content:center;font-size:28px; color: var(--primary)} 
    .profile-section .meta{font-weight:700}
    .sidebar a{display:block;color:#111;text-decoration:none;padding:12px;border-radius:10px;margin-top:12px;background:transparent; transition: background 0.2s;}
    .sidebar a:hover{background:rgba(255,215,0,0.12)}
    #logout{color:var(--accent);font-weight:800} 
    #logout i { color: var(--accent); } /* Ensure icon uses Red accent */

    /* overlay */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);z-index:210;display:none}
    .overlay.active{display:block}

    /* ===== Main content ===== */
    main{max-width:1180px;margin:22px auto;padding:0 18px;position:relative;z-index:2}

    /* Offer slider */
    .offer-slider{max-width:860px;margin:0 auto 20px;border-radius:16px;overflow:hidden;border:1px solid rgba(255,59,48,0.15);box-shadow:0 20px 50px rgba(0,0,0,0.06)}
    .slides{display:flex; width:400%; animation:slide 18s infinite linear}
    
    /* New: Target the <a> element */
    .slide { 
        min-width:100%;
        height:190px;
        background-size:cover;
        background-position:center;
        display:flex;
        align-items:center;
        justify-content:center;
        position:relative;
        padding:22px;
        text-decoration: none; /* Make it look like a banner */
    }
    
    .slide::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg, rgba(255,215,0,0.22), rgba(255,59,48,0.12));mix-blend-mode:multiply}
    .slide .label{
        position:relative;z-index:2;
        background:var(--accent); 
        color:white; 
        padding:12px 18px;border-radius:999px;font-weight:800;
        border:1px solid rgba(255,255,255,0.4);
        box-shadow:0 8px 30px rgba(255,59,48,0.4);
    }
    @keyframes slide {
      0%{transform:translateX(0%)} 24%{transform:translateX(0%)} 28%{transform:translateX(-100%)} 52%{transform:translateX(-100%)} 56%{transform:translateX(-200%)} 80%{transform:translateX(-200%)} 84%{transform:translateX(-300%)} 100%{transform:translateX(-300%)}
    }

    /* Tab switch */
    .tab-switch{display:flex;gap:12px;max-width:860px;margin:18px auto;align-items:center;justify-content:center}
    .tab-btn{flex:1;padding:12px 16px;border-radius:999px;text-align:center;font-weight:800;cursor:pointer;border:1px solid rgba(17,17,17,0.04);transition: background 0.2s; text-decoration: none; display: flex; align-items: center; justify-content: center;}
    .tab-btn.food{background:linear-gradient(90deg,var(--primary), #ffd800);color:#111; box-shadow: 0 4px 10px rgba(255,215,0,0.2)}
    .tab-btn.grocery{background:#fff;border:1px solid rgba(0,0,0,0.06);color:#111}
    .tab-btn.inactive{opacity:0.6; background:#f7f7f7 !important; box-shadow: none;} 

    /* search */
    .search-bar{max-width:860px;margin:12px auto 20px;position:relative}
    .search-bar input{width:100%;padding:14px 46px 14px 18px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);background:white;font-size:15px;color:var(--text)}
    .search-bar input:focus{outline:none;box-shadow:0 12px 30px rgba(255,215,0,0.2)}
    .search-bar .icon{position:absolute;right:14px;top:50%;transform:translateY(-50%);font-size:16px;color:var(--accent);pointer-events:none;z-index:1}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;max-width:1180px;margin:0 auto}
    .card{background:var(--card);border-radius:14px;border:1px solid rgba(0,0,0,0.04);overflow:hidden;cursor:pointer;transition:transform .28s ease, box-shadow .28s ease;display:flex;flex-direction:column}
    .card:hover{transform:translateY(-5px);box-shadow:0 30px 60px rgba(0,0,0,0.08)}
    .card img{width:100%;height:160px;object-fit:cover;background:#f3f3f3}
    .card .info{padding:12px 14px;display:flex;align-items:center;justify-content:space-between;gap:10px}
    .shop-name{font-weight:800;color:#111}
    .rating{display:inline-flex;align-items:center;gap:6px;font-weight:700;color:var(--accent); 
        background:linear-gradient(90deg,#fffaf0,#fff6da);padding:6px 10px;border-radius:999px;
        border:1px solid rgba(0,0,0,0.04);
    }
    .rating i { color: var(--accent); } /* Font awesome star icon */
    
    .desc{padding:0 14px 16px;color:var(--muted);font-size:13px}
    .items-row{display:flex;gap:8px;padding:0 14px 18px;flex-wrap:wrap}
    .item-pill{background:linear-gradient(90deg,#fff,#fff6db);padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;border:1px solid rgba(0,0,0,0.03)}
    .badge-offer{
        position:absolute;top:12px;left:12px;
        background:var(--accent);color:white; 
        padding:8px 10px;border-radius:8px;font-weight:800;
        box-shadow:0 6px 18px rgba(255,59,48,0.3);
    }
    .card-wrap{position:relative}

    /* footer */
    footer{padding:18px;text-align:center;color:var(--muted);margin-top:36px}

    /* responsive tweaks */
    @media (max-width:640px){
      .slides{animation-duration:22s}
      .slide{height:150px}
      header{padding:12px}
      .brand{font-size:18px}
      .tab-btn{padding:10px 12px;font-size:14px;}
      .cart-btn{padding:8px 12px;font-size:14px;}
    }
  </style>
</head>
<body>
  <div class="floating-icons" aria-hidden="true">
    <svg class="float-svg float-1" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
      <g fill="none" fill-rule="evenodd"><path d="M32 2C18 2 6.5 10 2 22c5 10 20 28 30 40 10-12 25-30 30-40C57.5 10 46 2 32 2z" fill="#FFEAA7"/><circle cx="26" cy="34" r="3" fill="#FF8A65"/><circle cx="36" cy="28" r="2.5" fill="#FF8A65"/><path d="M32 6c10 0 18 6 22 15-4 7-14 20-22 30-8-10-18-23-22-30C14 12 22 6 32 6z" fill="#FFDA44" opacity="0.95"/></g>
    </svg>
    <svg class="float-svg float-2" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      <g fill="none" fill-rule="evenodd"><rect x="4" y="22" width="56" height="20" rx="10" fill="#FFD54A"/><path d="M6 26h52v8H6z" fill="#D84315"/><circle cx="22" cy="32" r="2" fill="#fff8e1"/><circle cx="30" cy="32" r="2" fill="#fff8e1"/><circle cx="38" cy="32" r="2" fill="#fff8e1"/></g>
    </svg>
    <svg class="float-svg float-3" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      <g fill="none" fill-rule="evenodd"><path d="M32 10c7 0 12 6 12 11 0 4-3 7-6 9-1 1-6 3-6 3s-5-2-6-3c-3-2-6-5-6-9 0-5 5-11 12-11z" fill="#FFF3E0"/><path d="M28 36l-6 14c.8.6 1.9 1 3 1h8c1.1 0 2.2-.4 3-1l-6-14z" fill="#FFB74D"/><circle cx="34" cy="20" r="2" fill="#FF8A80"/></g>
    </svg>
    <svg class="float-svg float-4" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      <g fill="none" fill-rule="evenodd"><path d="M12 16h28v22H12z" fill="#FFF8E1"/><path d="M40 22h6a8 8 0 110 16h-6z" fill="#FFD54A"/><path d="M14 20c6-6 18-6 24 0" stroke="#FFB300" stroke-width="2" stroke-linecap="round"/></g>
    </svg>
  </div>

  <header role="banner">
    <button id="navBtn" class="nav-btn" aria-label="Open menu">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="#111" stroke-width="1.6" stroke-linecap="round"/></svg>
    </button>

    <div class="brand">Chat<span style="color:var(--accent)">Point</span></div>

    <div class="header-right">
      <button class="cart-btn" aria-label="Cart">üõí Cart</button>
    </div>
  </header>

  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <div class="profile-section" id="profileSection" aria-live="polite">
      <div class="avatar" aria-hidden="true">üôÇ</div>
      <div class="meta">Welcome<div style="font-size:13px;color:var(--muted);font-weight:600">Sign in for offers</div></div>
    </div>

    <nav aria-label="Main navigation" style="margin-top:14px">
      <a href="orders.html"><i class="fas fa-shopping-bag" style="margin-right:8px;"></i> My Orders</a>
      <a href="tel:8088975913"><i class="fas fa-phone-alt" style="margin-right:8px;"></i> Contact: 9632367397</a>
      <a href="#" id="logout" style="display:none;"><i class="fas fa-sign-out-alt" style="margin-right:8px;"></i> Logout</a>
    </nav>

    <div style="margin-top:auto;font-size:13px;color:var(--muted);padding-top:18px">¬© 2025 Chat Point</div>
  </aside>

  <div id="overlay" class="overlay" tabindex="-1"></div>

  <main>
    <section class="offer-slider" aria-label="Promotions">
      <div class="slides" role="region" aria-live="polite">
        
        <a href="deals.html#free-delivery" class="slide" style="background-image:url('https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=1200&auto=format&fit=crop');" 
           aria-label="Click to see items with free delivery">
          <div class="label">üöö FREE DELIVERY on all orders above ‚Çπ50! **Order Now**</div>
        </a>
        
        <a href="product-details.html?item=combo200" class="slide" style="background-image:url('https://images.unsplash.com/photo-1606787366850-de6330127bfc?w=1200&auto=format&fit=crop');"
           aria-label="Click to buy Chat Point Combo for ‚Çπ200">
          <div class="label">üî• NEW: Chat Point Combo ‚Çπ200 ‚Äî **VIEW DEAL**</div>
        </a>
        
        <a href="category.html?type=beverages" class="slide" style="background-image:url('https://images.unsplash.com/photo-1513104890138-7c749659a0ae38?w=1200&auto=format&fit=crop');"
           aria-label="Click for orders above ‚Çπ200 to get a free soft drink">
          <div class="label">üéâ Order above ‚Çπ200 ‚Äî **FREE Soft Drink!**</div>
        </a>
        
        <a href="items.html?shop=Fly+Pizza" class="slide" style="background-image:url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=1200&auto=format&fit=crop');"
           aria-label="Click to see Buy One Get One Free offers at Fly Pizza">
          <div class="label">üéÅ Buy 1 Get 1 **FREE** @ Fly Pizza ‚Äî **Shop Now**</div>
        </a>
        
      </div>
    </section>

    <div class="tab-switch" role="tablist" aria-label="Food or Grocery">
      <a href="index.html" id="foodBtn" class="tab-btn food" role="tab" aria-selected="true"><i class="fas fa-utensils" style="margin-right:8px"></i> Food</a>
      <a href="grocery.html" id="groceryBtn" class="tab-btn grocery inactive" role="tab" aria-selected="false"><i class="fas fa-shopping-basket" style="margin-right:8px"></i> Grocery</a>
    </div>

    <div class="search-bar" role="search">
      <input type="text" id="searchInput" placeholder="Search your favorite shop..." oninput="searchShops()" aria-label="Search shops">
      <i class="fas fa-search icon"></i>
    </div>

    <section class="grid" id="grid" aria-live="polite" aria-label="Shops list">
      </section>
  </main>

  <footer>¬© 2025 Chat Point ‚Ä¢ Made with Passion</footer>

  <script>
    // ====== Data (unchanged logic) ======
    const shops = [
      { name: "Chat Point", img: "images/dolphin.png", rating: 4.9, desc: "Your favorite hangout ‚Äì burgers, chats, coffee & vibes!", items: ["Zinger Burger", "Peri Peri Fries", "Cold Coffee", "Oreo Shake", "Chicken Roll"] },
      { name: "Sangambar Udpi-Hotel", img: "images/sangambar-udpi-hotel.png", rating: 4.6, desc: "Pure vegetarian South Indian meals.", items: ["Masala Dosa", "Idli Vada", "Puri Bhaji", "Filter Coffee"] },
      { name: "Nandi Grand Hotels", img: "images/nandini-grand-hotels.png", rating: 4.7, desc: "Crispy dosas with authentic flavors.", items: ["Plain Dosa", "Ghee Roast", "Onion Uttapam", "Podi Idli"] },
      { name: "Pizza spot", img: "images/Pizza-Spot-Special.jpg", rating: 4.5, desc: "Loaded pizzas with fresh toppings.", items: ["Margherita", "Pepperoni", "Veggie Supreme", "BBQ Chicken"] },
      { name: "Fly Pizza", img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=500", rating: 4.6, desc: "100% veg pizzas, light & tasty.", items: ["Paneer Tikka", "Corn & Cheese", "Farmhouse", "Veg Extravaganza"] },
      { name: "Mister Chef", img: "mister-chef.png", rating: 4.7, desc: "Juicy burgers with secret sauce.", items: ["Classic Burger", "Cheese Blast", "Veg Crunch", "Fries Combo"] },
      { name: "Dolphin Hotel", img: "images/Tandoori-Paneer.jpg", rating: 4.5, desc: "Fresh sandwiches & healthy bites.", items: ["Veg Sandwich", "Grilled Cheese", "Club Sandwich", "Cold Coffee"] },
      { name: "Hassanmba iyyangar bakery ", img: "images/bekary.png", rating: 4.5, desc: "Fresh sandwiches & healthy bites.", items: ["Veg Sandwich", "Grilled Cheese", "Club Sandwich", "Cold Coffee"] }
    ];

    // ====== Render shops (kept logic; improved card UI) ======
    function renderShops(filter = "") {
      const grid = document.getElementById("grid");
      grid.innerHTML = "";
      shops
        .filter(shop => shop.name.toLowerCase().includes(filter.toLowerCase()))
        .forEach(shop => {
          const cardWrap = document.createElement("div");
          cardWrap.className = "card-wrap";

          const card = document.createElement("div");
          card.className = "card";
          card.setAttribute("role", "button");
          card.tabIndex = 0;
          card.onclick = () => {
            localStorage.setItem("currentShop", JSON.stringify({ name: shop.name, items: shop.items }));
            location.href = `items.html?shop=${encodeURIComponent(shop.name)}`;
          };
          card.onkeydown = (e) => { if(e.key === "Enter") card.click(); };

          const imageSrc = shop.img.includes('http') ? shop.img : shop.img;
          const fallbackPlaceholder = `https://via.placeholder.com/420x260/FFD700/FF3B30?text=${encodeURIComponent(shop.name.replace(/\s/g, '+'))}`;

          const img = document.createElement("img");
          img.src = imageSrc;
          img.alt = shop.name + " image";
          img.onerror = function(){ this.src = fallbackPlaceholder; };

          const badge = document.createElement("div");
          badge.className = "badge-offer";
          badge.textContent = shop.rating >= 4.7 ? "‚≠ê TOP RATED" : "üî• OFFER";

          const info = document.createElement("div");
          info.className = "info";
          info.innerHTML = `<div class="shop-name">${shop.name}</div><div class="rating" aria-label="Rating ${shop.rating}"><i class="fas fa-star"></i> ${shop.rating}</div>`;

          const desc = document.createElement("div");
          desc.className = "desc";
          desc.textContent = shop.desc;

          const itemsRow = document.createElement("div");
          itemsRow.className = "items-row";
          (shop.items || []).slice(0,4).forEach(it => {
            const pill = document.createElement("div");
            pill.className = "item-pill";
            pill.textContent = it;
            itemsRow.appendChild(pill);
          });

          card.appendChild(img);
          card.appendChild(info);
          card.appendChild(desc);
          card.appendChild(itemsRow);

          cardWrap.appendChild(card);
          if (Math.random() > 0.4) cardWrap.appendChild(badge);

          grid.appendChild(cardWrap);
        });
    }

    function searchShops() {
      renderShops(document.getElementById("searchInput").value.trim());
    }

    // nav toggle
    document.getElementById("navBtn").onclick = () => {
      document.getElementById("sidebar").classList.add("active");
      document.getElementById("sidebar").setAttribute("aria-hidden", "false");
      document.getElementById("overlay").classList.add("active");
    };
    document.getElementById("overlay").onclick = () => {
      document.getElementById("sidebar").classList.remove("active");
      document.getElementById("sidebar").setAttribute("aria-hidden", "true");
      document.getElementById("overlay").classList.remove("active");
    };

    // profile
    function loadProfile() {
      const user = JSON.parse(localStorage.getItem("chatpoint_user") || "null");
      const profile = document.getElementById("profileSection");
      const logoutBtn = document.getElementById("logout");
      if (user && user._id) {
        profile.innerHTML = `<div style="display:flex;gap:12px;align-items:center">
          <div class="avatar"><i class="fas fa-user"></i></div>
          <div style="font-weight:800"><div>${user.name}</div><div style="font-size:13px;color:var(--muted);font-weight:600">${user.phone}</div></div>
        </div>`;
        logoutBtn.style.display = "block";
        logoutBtn.onclick = () => { localStorage.removeItem("chatpoint_user"); location.reload(); };
      } else {
        profile.innerHTML = `<div style="font-size:15px;"><div style="display:flex;align-items:center;gap:10px"><div class="avatar" style="background:#fffef0">üôÇ</div><div style="font-weight:700">Welcome</div></div><div style="margin-top:8px;color:var(--accent);font-size:13px"> <a href="login.html" style="color:var(--accent);text-decoration:underline">Login to see profile</a></div></div>`;
        logoutBtn.style.display = "none";
      }
    }

    // highlight active tab
    window.addEventListener("load", () => {
      const path = location.pathname.split("/").pop();
      if (path === "grocery.html" || path === "grocery") {
        document.getElementById("foodBtn").classList.add("inactive");
        document.getElementById("groceryBtn").classList.remove("inactive");
      }
    });

    // initial render
    window.onload = () => {
      renderShops();
      loadProfile();
    };
  </script>
</body>
</html>
