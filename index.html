<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ChatPoint ‚Ä¢ Premium</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg: #0d0e12;
      --card: #14151a;
      --text: #e6e6e6;
      --text-muted: #9b9ca1;
      --primary: #e6b25c;
      --primary-dark: #bb8c3d;
      --glass: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.08);
      --radius: 18px;
      --shadow: rgba(0,0,0,0.55);
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:"Outfit",sans-serif;
      background:var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    header {
      position:sticky;
      top:0;
      z-index:100;
      background:rgba(20,21,26,0.7);
      backdrop-filter:blur(10px);
      padding:16px 20px;
      display:flex;
      align-items:center;
      border-bottom:1px solid var(--border);
    }
    .nav-btn {
      width:46px;
      height:46px;
      border-radius:14px;
      background:var(--glass);
      border:none;
      display:grid;
      place-items:center;
      cursor:pointer;
      color:var(--primary);
      transition:0.25s;
    }
    .nav-btn:hover { background:rgba(255,255,255,0.1); }
    .brand {
      font-size:26px;
      font-weight:900;
      margin-left:12px;
      color:var(--primary);
      letter-spacing:-0.5px;
    }
    .header-right {
      margin-left:auto;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .orders-btn, .cart-btn, .login-btn {
      padding:10px 18px;
      border-radius:14px;
      font-weight:700;
      cursor:pointer;
      font-size:15px;
      border:none;
      transition:0.25s;
    }
    .orders-btn {
      background:var(--primary);
      color:#000;
    }
    .cart-btn {
      background:#ffffff;
      color:#000;
    }
    .login-btn {
      background: var(--primary);
      color: #000;
      box-shadow: 0 0 12px rgba(230,178,92,0.5);
    }
    .login-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--glass);
      padding: 8px 14px;
      border-radius: 12px;
      border: 1px solid var(--border);
    }
    .user-avatar {
      width: 36px;
      height: 36px;
      background: var(--primary);
      color: #000;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-weight: 800;
      font-size: 16px;
    }
    .user-details {
      font-size: 14px;
      line-height: 1.3;
    }
    .user-name { font-weight:700; color:var(--text); }
    .user-phone { color:var(--text-muted); }

    #sidebar {
      position:fixed;
      inset:0 auto 0 0;
      width:280px;
      background:#14151a;
      height:100%;
      transform:translateX(-100%);
      transition:0.4s ease;
      z-index:1000;
      border-right:1px solid var(--border);
      overflow-y:auto;
    }
    #sidebar.active { transform:translateX(0); }
    #overlay {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.6);
      opacity:0;
      pointer-events:none;
      transition:0.3s ease;
      z-index:999;
    }
    #overlay.active { opacity:1; pointer-events:auto; }

    .profile-section {
      padding:20px;
      background:#0f1014;
      border-bottom:1px solid var(--border);
      color:var(--primary);
      font-weight:700;
      font-size:20px;
    }
    nav a, .contact-btn {
      display:block;
      padding:14px 18px;
      text-decoration:none;
      color:var(--text);
      font-weight:600;
      transition:0.25s;
      background:none;
      border:none;
      width:100%;
      text-align:left;
      cursor:pointer;
    }
    nav a:hover, .contact-btn:hover {
      background:var(--glass);
      color:var(--primary);
    }
    .contact-info {
      display:none;
      padding:16px 18px;
      background:#0f1014;
      border-top:1px solid var(--border);
    }
    .contact-info.show { display:block; }
    .contact-number {
      font-size:22px;
      font-weight:700;
      color:var(--primary);
      margin:12px 0;
      text-align:center;
    }
    .contact-actions {
      display:flex;
      gap:12px;
      margin-top:16px;
    }
    .call-btn, .whatsapp-btn {
      flex:1;
      padding:12px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      border:none;
      font-size:15px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }
    .call-btn { background:var(--primary); color:#000; }
    .whatsapp-btn { background:#25D366; color:white; }

    .offer-banner {
      max-width:960px;
      margin:24px auto;
      padding:30px 26px;
      background:linear-gradient(145deg,#1b1c23,#111217);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:0 20px 50px rgba(0,0,0,0.55);
      text-align:center;
    }
    .offer-title {
      font-size:2.4rem;
      font-weight:900;
      color:var(--primary);
    }
    .offer-text {
      font-size:1.3rem;
      color:var(--text);
      margin-top:10px;
      font-weight:600;
    }
    .highlight { color:var(--primary); }

    .search-bar {
      max-width:600px;
      margin:0 auto 32px;
      position:relative;
    }
    .search-bar input {
      width:100%;
      padding:16px 20px 16px 54px;
      background:#1a1b20;
      border-radius:16px;
      border:1px solid var(--border);
      color:var(--text);
      font-size:17px;
    }
    .search-bar input:focus {
      border-color:var(--primary);
      box-shadow:0 0 8px var(--primary);
      outline:none;
    }
    .search-bar i {
      position:absolute;
      left:20px;
      top:50%;
      transform:translateY(-50%);
      font-size:20px;
      color:var(--primary);
    }

    .grid {
      display:grid;
      gap:24px;
      padding-bottom:60px;
      grid-template-columns:1fr;
      max-width:960px;
      margin:auto;
    }
    @media(min-width:600px){
      .grid { grid-template-columns:repeat(auto-fit,minmax(330px,1fr)); }
    }

    .card-wrap { position:relative; }
    .card {
      background:var(--card);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:0 12px 40px rgba(0,0,0,0.45);
      transition:0.35s ease;
      cursor:pointer;
    }
    .card:hover {
      transform:translateY(-8px);
      box-shadow:0 20px 50px rgba(0,0,0,0.7);
    }
    .card img {
      width:100%;
      height:180px;
      object-fit:cover;
      opacity:0.85;
    }
    .info {
      padding:14px 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .shop-name {
      font-size:18px;
      font-weight:800;
      color:var(--text);
    }
    .rating {
      background:var(--primary);
      color:#000;
      padding:6px 12px;
      border-radius:999px;
      font-weight:700;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .desc {
      padding:0 18px 10px;
      color:var(--text-muted);
      font-size:14px;
    }
    .items-row {
      padding:0 18px 16px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .item-pill {
      background:var(--glass);
      color:var(--text);
      padding:6px 12px;
      border-radius:999px;
      font-size:13px;
      font-weight:500;
    }
    .badge-offer {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--primary);
      color: #000;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    footer {
      text-align:center;
      padding:24px;
      margin-top:40px;
      background:#0f0f12;
      color:#777;
      border-top:1px solid var(--border);
    }
  </style>
</head>
<body>
<header>
  <button id="navBtn" class="nav-btn"><i class="fas fa-bars"></i></button>
  <div class="brand">ChatPoint</div>
  <div class="header-right" id="headerRight"></div>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
  <div class="profile-section">Menu</div>
  <nav>
    <a href="tracking.html"><i class="fa-solid fa-bag-shopping"></i> ¬† My Orders</a>
    <button class="contact-btn" id="contactBtn">
      <i class="fa-solid fa-phone"></i> ¬† Contact Now
    </button>
  </nav>
  <div class="contact-info" id="contactInfo">
    <div class="contact-number">97396 32364</div>
    <div class="contact-actions">
      <button class="call-btn" onclick="window.location.href='tel:+919739632364'">
        <i class="fas fa-phone"></i> Call Now
      </button>
      <button class="whatsapp-btn" onclick="window.open('https://wa.me/+919739632364', '_blank')">
        <i class="fab fa-whatsapp"></i> WhatsApp
      </button>
    </div>
  </div>
</div>
<div id="overlay"></div>

<!-- OFFER BANNER -->
<div class="offer-banner">
  <div class="offer-title">BIG PRICE DROP</div>
  <div class="offer-text">Save more on every order. <span class="highlight">Limited Time Offer</span></div>
</div>

<!-- SEARCH -->
<div class="search-bar">
  <input type="text" id="searchInput" placeholder="Search shops or items..." oninput="searchShops()">
  <i class="fas fa-search"></i>
</div>

<!-- SHOP GRID -->
<section class="grid" id="grid"></section>

<footer>¬© ChatPoint ‚Ä¢ Premium Edition</footer>

<script>
// Shop data
const shops = [
  {
    name: "connect with Pizza",
    img: "https://plus.unsplash.com/premium_photo-1679924471091-f7cd7ad90ddf?q=80&w=1169&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    rating: 4.6,
    desc: "100% veg pizzas, light & tasty.",
    items: ["Paneer Tikka", "Corn & Cheese", "Nuggets", "Veg Extravaganza"]
  },
  {
    name: " MANIKANT BENNE DOSA",
    img: "https://plus.unsplash.com/premium_photo-1674106347866-8282d8c19f84?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTI5fHxmb29kfGVufDB8fDB8fHww",
    rating: 4.7,
    desc: "tasty breakfast with secret sauce.",
    items: ["dosa", "idly", "vada", "set dosa"]
  },
  {
    name: "Hasanamba Iyengar Bakery",
    img: "https://plus.unsplash.com/premium_photo-1665669263531-cdcbe18e7fe4?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmFrZXJ5fGVufDB8fDB8fHww",
    rating: 4.5,
    desc: "Fresh baked goods and sweet treats.",
    items: ["Cake", "Puff", "Rolls", "Puff Pastry"]
  },
  {
    name: "Sangambar Udupi Hotel",
    img: "https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Zm9vZHxlbnwwfHwwfHx8MA%3D%3D",
    rating: 4.6,
    desc: "Pure vegetarian South Indian meals.",
    items: ["Masala Dosa", "Idli Vada", "Puri Bhaji", "Coffee"]
  },
  {
    name: "Pizza Spot",
    img: "https://plus.unsplash.com/premium_photo-1723478418445-b13c20b21231?q=80&w=1125&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    rating: 4.5,
    desc: "Loaded pizzas with fresh toppings.",
    items: ["Momos", "Pizza", "Burger", "Juice", "Veggie Pizza", "Pav Bhaji"]
  },
  {
    name: "Nandi Grand Hotels",
    img: "https://plus.unsplash.com/premium_photo-1674106347866-8282d8c19f84?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTI5fHxmb29kfGVufDB8fDB8fHww",
    rating: 4.7,
    desc: "Crispy dosas with authentic flavors.",
    items: ["Plain Dosa", "Ghee Roast", "Onion Uttapam", "Podi Idli"]
  },
  {
    name: "Mister Chef",
    img: "https://images.unsplash.com/photo-1594179047519-f347310d3322?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8ZmFzdCUyMGZvb2R8ZW58MHx8MHx8fDA%3D",
    rating: 4.7,
    desc: "Juicy burgers with secret sauce.",
    items: ["Classic Burger", "Cheese Blast", "Veg Crunch", "Fries Combo"]
  },
  {
    name: "Dolphin Hotel",
    img: "https://images.unsplash.com/photo-1496412705862-e0088f16f791?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjd8fGZvb2QlMjBwaG90b2dyYXBoeXxlbnwwfHwwfHx8MA%3D%3D",
    rating: 4.5,
    desc: "Fresh sandwiches & healthy bites.",
    items: ["Veg Sandwich", "Grilled Cheese", "Club Sandwich", "Rice", "Paneer", "Cold Coffee"]
  }
];

// Render shops
function renderShops(filter = "") {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  const lowerFilter = filter.toLowerCase().trim();
  shops
    .filter(shop => {
      if (!lowerFilter) return true;
      const nameMatch = shop.name.toLowerCase().includes(lowerFilter);
      const itemMatch = shop.items.some(item =>
        item.toLowerCase().includes(lowerFilter)
      );
      return nameMatch || itemMatch;
    })
    .forEach(shop => {
      const cardWrap = document.createElement("div");
      cardWrap.className = "card-wrap";
      const card = document.createElement("div");
      card.className = "card";
      card.role = "button";
      card.tabIndex = 0;
      card.onclick = () => {
        localStorage.setItem("currentShop", JSON.stringify({ name: shop.name, items: shop.items }));
        location.href = `items.html?shop=${encodeURIComponent(shop.name)}`;
      };
      card.onkeydown = e => { if (e.key === "Enter") card.click(); };
      const img = document.createElement("img");
      img.src = shop.img;
      img.alt = `${shop.name} image`;
      img.loading = "lazy";
      img.onerror = function() {
        this.src = `https://via.placeholder.com/420x260/2874F0/FF9800?text=${encodeURIComponent(shop.name)}`;
      };
      const badge = document.createElement("div");
      badge.className = "badge-offer";
      badge.textContent = shop.rating >= 4.7 ? "‚≠ê TOP RATED" : "üî• OFFER";
      const info = document.createElement("div");
      info.className = "info";
      info.innerHTML = `
        <div class="shop-name">${shop.name}</div>
        <div class="rating" aria-label="Rating ${shop.rating}">
          <i class="fas fa-star"></i> ${shop.rating}
        </div>
      `;
      const desc = document.createElement("div");
      desc.className = "desc";
      desc.textContent = shop.desc;
      const itemsRow = document.createElement("div");
      itemsRow.className = "items-row";
      shop.items.slice(0, 4).forEach(item => {
        const pill = document.createElement("div");
        pill.className = "item-pill";
        pill.textContent = item.trim();
        itemsRow.appendChild(pill);
      });
      card.append(img, info, desc, itemsRow);
      cardWrap.appendChild(card);
      if (Math.random() > 0.4) cardWrap.appendChild(badge);
      grid.appendChild(cardWrap);
    });
}

// Search handler
function searchShops() {
  const query = document.getElementById("searchInput").value;
  renderShops(query);
}

// Sidebar toggle
document.getElementById("navBtn").onclick = () => {
  document.getElementById("sidebar").classList.add("active");
  document.getElementById("overlay").classList.add("active");
};
document.getElementById("overlay").onclick = () => {
  document.getElementById("sidebar").classList.remove("active");
  document.getElementById("overlay").classList.remove("active");
};

// Contact button toggle
document.getElementById("contactBtn").onclick = () => {
  const info = document.getElementById("contactInfo");
  info.classList.toggle("show");
};

// Render header right (user info or login button)
function renderHeaderRight() {
  const user = JSON.parse(localStorage.getItem("chatpoint_user") || "null");
  const headerRight = document.getElementById("headerRight");
  if (user && user.name && user.phone) {
    // Logged in ‚Üí show user info
    headerRight.innerHTML = `
      <div class="user-info">
        <div class="user-avatar"><i class="fas fa-user"></i></div>
        <div class="user-details">
          <div class="user-name">${user.name}</div>
          <div class="user-phone">${user.phone}</div>
        </div>
      </div>
      <button class="orders-btn" onclick="location.href='tracking.html'">My Orders</button>
      <button class="cart-btn" onclick="location.href='cart.html'"><i class="fa-solid fa-cart-shopping"></i></button>
    `;
  } else {
    // Not logged in ‚Üí show Login button
    headerRight.innerHTML = `
      <a href="login.html" class="login-btn">Login</a>
      <button class="orders-btn" onclick="location.href='tracking.html'">My Orders</button>
      <button class="cart-btn" onclick="location.href='cart.html'"><i class="fa-solid fa-cart-shopping"></i></button>
    `;
  }
}

// Initial load
window.onload = () => {
  renderShops();
  renderHeaderRight();
};
</script>
</body>
</html>
