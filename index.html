<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ChatPoint ‚Ä¢ Premium</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg: #0d0e12;
      --card: #14151a;
      --text: #e6e6e6;
      --text-muted: #9b9ca1;
      --primary: #e6b25c;
      --primary-dark: #bb8c3d;
      --glass: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.08);
      --radius: 18px;
      --shadow: rgba(0,0,0,0.55);
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:"Outfit",sans-serif;
      background:var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    /* HEADER */
    header {
      position:sticky;
      top:0;
      z-index:100;
      background:rgba(20,21,26,0.7);
      backdrop-filter:blur(10px);
      padding:16px 20px;
      display:flex;
      align-items:center;
      border-bottom:1px solid var(--border);
    }
    .nav-btn {
      width:46px;
      height:46px;
      border-radius:14px;
      background:var(--glass);
      border:none;
      display:grid;
      place-items:center;
      cursor:pointer;
      color:var(--primary);
      transition:0.25s;
    }
    .nav-btn:hover { background:rgba(255,255,255,0.1); }
    .brand {
      font-size:26px;
      font-weight:900;
      margin-left:12px;
      color:var(--primary);
      letter-spacing:-0.5px;
    }
    .header-right {
      margin-left:auto;
      display:flex;
      gap:12px;
    }
    .orders-btn, .cart-btn {
      padding:10px 18px;
      border-radius:14px;
      font-weight:700;
      cursor:pointer;
      font-size:15px;
      border:none;
      transition:0.25s;
    }
    .orders-btn {
      background:var(--primary);
      color:#000;
    }
    .cart-btn {
      background:#ffffff;
      color:#000;
    }
    /* SIDEBAR */
    #sidebar {
      position:fixed;
      inset:0 auto 0 0;
      width:280px;
      background:#14151a;
      height:100%;
      transform:translateX(-100%);
      transition:0.4s ease;
      z-index:1000;
      border-right:1px solid var(--border);
    }
    #sidebar.active { transform:translateX(0); }
    #overlay {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.6);
      opacity:0;
      pointer-events:none;
      transition:0.3s ease;
      z-index:999;
    }
    #overlay.active {
      opacity:1;
      pointer-events:auto;
    }
    .profile-section {
      padding:20px;
      background:#0f1014;
      border-bottom:1px solid var(--border);
      color:var(--primary);
      font-weight:700;
      font-size:20px;
    }
    nav a {
      display:block;
      padding:14px 18px;
      text-decoration:none;
      color:var(--text);
      font-weight:600;
      transition:0.25s;
    }
    nav a:hover {
      background:var(--glass);
      color:var(--primary);
    }
    /* OFFER BANNER */
    .offer-banner {
      max-width:960px;
      margin:24px auto;
      padding:30px 26px;
      background:linear-gradient(145deg,#1b1c23,#111217);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:0 20px 50px rgba(0,0,0,0.55);
      text-align:center;
    }
    .offer-title {
      font-size:2.4rem;
      font-weight:900;
      color:var(--primary);
    }
    .offer-text {
      font-size:1.3rem;
      color:var(--text);
      margin-top:10px;
      font-weight:600;
    }
    .highlight { color:var(--primary); }
    /* SEARCH BAR */
    .search-bar {
      max-width:600px;
      margin:0 auto 32px;
      position:relative;
    }
    .search-bar input {
      width:100%;
      padding:16px 20px 16px 54px;
      background:#1a1b20;
      border-radius:16px;
      border:1px solid var(--border);
      color:var(--text);
      font-size:17px;
    }
    .search-bar input:focus {
      border-color:var(--primary);
      box-shadow:0 0 8px var(--primary);
      outline:none;
    }
    .search-bar i {
      position:absolute;
      left:20px;
      top:50%;
      transform:translateY(-50%);
      font-size:20px;
      color:var(--primary);
    }
    /* GRID */
    .grid {
      display:grid;
      gap:24px;
      padding-bottom:60px;
      grid-template-columns:1fr;
      max-width:960px;
      margin:auto;
    }
    @media(min-width:600px){
      .grid { grid-template-columns:repeat(auto-fit,minmax(330px,1fr)); }
    }
    /* CARDS */
    .card-wrap {
      position: relative;
    }
    .card {
      background:var(--card);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:0 12px 40px rgba(0,0,0,0.45);
      transition:0.35s ease;
      cursor:pointer;
    }
    .card:hover {
      transform:translateY(-8px);
      box-shadow:0 20px 50px rgba(0,0,0,0.7);
    }
    .card img {
      width:100%;
      height:180px;
      object-fit:cover;
      opacity:0.85;
    }
    .info {
      padding:14px 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .shop-name {
      font-size:18px;
      font-weight:800;
      color:var(--text);
    }
    .rating {
      background:var(--primary);
      color:#000;
      padding:6px 12px;
      border-radius:999px;
      font-weight:700;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .desc {
      padding:0 18px 14px;
      color:var(--text-muted);
      font-size:14px;
    }
    .items-row {
      padding:0 18px 16px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .item-pill {
      background:var(--glass);
      color:var(--text);
      padding:6px 12px;
      border-radius:999px;
      font-size:13px;
      font-weight:500;
    }
    .badge-offer {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--primary);
      color: #000;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    footer {
      text-align:center;
      padding:24px;
      margin-top:40px;
      background:#0f0f12;
      color:#777;
      border-top:1px solid var(--border);
    }
  </style>
</head>
<body>
<header>
  <button id="navBtn" class="nav-btn"><i class="fas fa-bars"></i></button>
  <div class="brand">ChatPoint</div>
  <div class="header-right">
    <button class="orders-btn" onclick="location.href='tracking.html'">My Orders</button>
    <button class="cart-btn" onclick="location.href='cart.html'"><i class="fa-solid fa-cart-shopping"></i></button>
  </div>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
  <div class="profile-section">Menu</div>
  <nav>
    <a href="tracking.html"><i class="fa-solid fa-bag-shopping"></i> ¬† My Orders</a>
    <a href="tel:9632367397"><i class="fa-solid fa-phone"></i> ¬† Contact Us</a>
  </nav>
</div>
<div id="overlay"></div>

<!-- OFFER BANNER -->
<div class="offer-banner">
  <div class="offer-title">BIG PRICE DROP</div>
  <div class="offer-text">Save more on every order. <span class="highlight">Limited Time Offer</span></div>
</div>

<!-- SEARCH -->
<div class="search-bar">
  <input type="text" id="searchInput" placeholder="Search shops..." oninput="searchShops()">
  <i class="fas fa-search"></i>
</div>

<!-- SHOP GRID -->
<section class="grid" id="grid"></section>

<footer>¬© ChatPoint ‚Ä¢ Premium Edition</footer>

<script>
// Shop data
const shops = [
  {
    name: "connect with Pizza",
    img: "https://plus.unsplash.com/premium_photo-1679924471091-f7cd7ad90ddf?q=80&w=1169&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    rating: 4.6,
    desc: "100% veg pizzas, light & tasty.",
    items: ["Paneer Tikka", "Corn & Cheese", "nugets ", "Veg Extravaganza"]
  },
  {
    name: "Hasanamba Iyengar Bakery",
    img: "https://plus.unsplash.com/premium_photo-1665669263531-cdcbe18e7fe4?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmFrZXJ5fGVufDB8fDB8fHww",
    rating: 4.5,
    desc: "Fresh baked goods and sweet treats.",
    items: ["Cake", "Puff", "rolls", "Puff Pastry"]
  },
  {
    name: "Sangambar Udupi Hotel",
    img: "https://plus.unsplash.com/premium_photo-1673108852141-e8c3c22a4a22?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8Zm9vZHxlbnwwfHwwfHx8MA%3D%3D",
    rating: 4.6,
    desc: "Pure vegetarian South Indian meals.",
    items: ["Masala Dosa", "Idli Vada", "Puri Bhaji", "Coffee"]
  },
  {
    name: "Pizza Spot",
    img: "https://plus.unsplash.com/premium_photo-1723478418445-b13c20b21231?q=80&w=1125&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    rating: 4.5,
    desc: "Loaded pizzas with fresh toppings.",
    items: ["momos", "pizza", "burger", "juice", "Veggie pizza", "pav bhaji"]
  },
  {
    name: "Nandi Grand Hotels",
    img: "https://plus.unsplash.com/premium_photo-1674106347866-8282d8c19f84?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTI5fHxmb29kfGVufDB8fDB8fHww",
    rating: 4.7,
    desc: "Crispy dosas with authentic flavors.",
    items: ["Plain Dosa", "Ghee Roast", "Onion Uttapam", "Podi Idli"]
  },
  {
    name: "Mister Chef",
    img: "https://images.unsplash.com/photo-1594179047519-f347310d3322?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8ZmFzdCUyMGZvb2R8ZW58MHx8MHx8fDA%3D",
    rating: 4.7,
    desc: "Juicy burgers with secret sauce.",
    items: ["Classic Burger", "Cheese Blast", "Veg Crunch", "Fries Combo"]
  },
  {
    name: "Dolphin Hotel",
    img: "https://images.unsplash.com/photo-1496412705862-e0088f16f791?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjd8fGZvb2QlMjBwaG90b2dyYXBoeXxlbnwwfHwwfHx8MA%3D%3D",
    rating: 4.5,
    desc: "Fresh sandwiches & healthy bites.",
    items: ["Veg Sandwich", "Grilled Cheese", "Club Sandwich", "rice", "panner", "Cold Coffee"]
  }
];

// Render shops function
function renderShops(filter = "") {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";

  shops
    .filter(shop => shop.name.toLowerCase().includes(filter.toLowerCase()))
    .forEach(shop => {
      const cardWrap = document.createElement("div");
      cardWrap.className = "card-wrap";

      const card = document.createElement("div");
      card.className = "card";
      card.role = "button";
      card.tabIndex = 0;

      card.onclick = () => {
        localStorage.setItem("currentShop", JSON.stringify({ name: shop.name, items: shop.items }));
        location.href = `items.html?shop=${encodeURIComponent(shop.name)}`;
      };

      card.onkeydown = e => { if (e.key === "Enter") card.click(); };

      const img = document.createElement("img");
      img.src = shop.img;
      img.alt = `${shop.name} image`;
      img.loading = "lazy";
      img.onerror = function() {
        this.src = `https://via.placeholder.com/420x260/2874F0/FF9800?text=${encodeURIComponent(shop.name)}`;
      };

      const badge = document.createElement("div");
      badge.className = "badge-offer";
      badge.textContent = shop.rating >= 4.7 ? "‚≠ê TOP RATED" : "üî• OFFER";

      const info = document.createElement("div");
      info.className = "info";
      info.innerHTML = `
        <div class="shop-name">${shop.name}</div>
        <div class="rating" aria-label="Rating ${shop.rating}">
          <i class="fas fa-star"></i> ${shop.rating}
        </div>
      `;

      const desc = document.createElement("div");
      desc.className = "desc";
      desc.textContent = shop.desc;

      const itemsRow = document.createElement("div");
      itemsRow.className = "items-row";
      shop.items.slice(0, 4).forEach(item => {
        const pill = document.createElement("div");
        pill.className = "item-pill";
        pill.textContent = item.trim();
        itemsRow.appendChild(pill);
      });

      card.append(img, info, desc, itemsRow);
      cardWrap.appendChild(card);

      // Randomly show badge (as in your original logic)
      if (Math.random() > 0.4) {
        cardWrap.appendChild(badge);
      }

      grid.appendChild(cardWrap);
    });
}

// Search handler
function searchShops() {
  const query = document.getElementById("searchInput").value.trim();
  renderShops(query);
}

// Sidebar toggle
document.getElementById("navBtn").onclick = () => {
  document.getElementById("sidebar").classList.add("active");
  document.getElementById("overlay").classList.add("active");
};

document.getElementById("overlay").onclick = () => {
  document.getElementById("sidebar").classList.remove("active");
  document.getElementById("overlay").classList.remove("active");
};

// Initial load
window.onload = () => {
  renderShops();
  // You can keep loadProfile() if you plan to use it later
  // loadProfile();
};
</script>
</body>
</html>
